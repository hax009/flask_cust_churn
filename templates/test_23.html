<!DOCTYPE html>
<html>
<head>
    <title>Churn Prediction</title>
    <script>
        function validateForm() {
            var missingFields = [];
    
            if (document.forms["churnForm"]["customerID"].value == "") {
                missingFields.push("Customer ID");
            }
            if (document.forms["churnForm"]["tenure"].value == "") {
                missingFields.push("Tenure");
            }
            if (document.forms["churnForm"]["gender"].value == "") {
                missingFields.push("Gender");
            }
            if (document.forms["churnForm"]["seniorCitizen"].value == "") {
                missingFields.push("Senior Citizen");
            }
            if (document.forms["churnForm"]["partner"].value == "") {
                missingFields.push("Partner");
            }
            if (document.forms["churnForm"]["dependents"].value == "") {
                missingFields.push("Dependents");
            }
            if (document.forms["churnForm"]["phoneService"].value == "") {
                missingFields.push("Phone Service");
            }
            if (document.forms["churnForm"]["multipleLines"].value == "") {
                missingFields.push("Multiple Lines");
            }
            if (document.forms["churnForm"]["internetService"].value == "") {
                missingFields.push("Internet Service");
            }
            if (document.forms["churnForm"]["onlineSecurity"].value == "") {
                missingFields.push("Online Security");
            }
            if (document.forms["churnForm"]["onlineBackup"].value == "") {
                missingFields.push("Online Backup");
            }
            if (document.forms["churnForm"]["deviceProtection"].value == "") {
                missingFields.push("Device Protection");
            }
            if (document.forms["churnForm"]["techSupport"].value == "") {
                missingFields.push("Tech Support");
            }
            if (document.forms["churnForm"]["streamingTV"].value == "") {
                missingFields.push("Streaming TV");
            }
            if (document.forms["churnForm"]["streamingMovies"].value == "") {
                missingFields.push("Streaming Movies");
            }
            if (document.forms["churnForm"]["contract"].value == "") {
                missingFields.push("Contract");
            }
            if (document.forms["churnForm"]["paperlessBilling"].value == "") {
                missingFields.push("Paperless Billing");
            }
            if (document.forms["churnForm"]["paymentMethod"].value == "") {
                missingFields.push("Payment Method");
            }
            if (document.forms["churnForm"]["monthlyCharges"].value == "") {
                missingFields.push("Monthly Charges");
            }
            if (document.forms["churnForm"]["totalCharges"].value == "") {
                missingFields.push("Total Charges");
            }
            
            if (missingFields.length > 0) {
                alert("Missing input for: " + missingFields.join(", "));
                return false;
            }
        }
    </script>
    
</head>
<body>
    <h2>Churn Prediction Form</h2>
    <form name="churnForm" action="/predict" method="post" onsubmit="return validateForm()">
        <label for="customerID">Customer ID:</label><br>
        <input type="text" name="customerID"><br><br>
        
        <label for="gender">Gender:</label>
        <select name="gender">
            <option value="Female">Female</option>
            <option value="Male">Male</option>
        </select><br><br>
        
        <label for="seniorCitizen">Senior Citizen:</label>
        <select name="seniorCitizen">
            <option value="0">No</option>
            <option value="1">Yes</option>
        </select><br><br>
        
        <label for="partner">Partner:</label>
        <select name="partner">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
        </select><br><br>
        
        <label for="dependents">Dependents:</label>
        <select name="dependents">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
        </select><br><br>
        
        <label for="tenure">Tenure:</label><br>
        <input type="number" name="tenure"><br><br>
        
        <label for="phoneService">Phone Service:</label>
        <select name="phoneService">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
        </select><br><br>
        
        <label for="multipleLines">Multiple Lines:</label>
        <select name="multipleLines">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
        </select><br><br>
        
        <label for="internetService">Internet Service:</label>
        <select name="internetService">
            <option value="DSL">DSL</option>
            <option value="Fiber optic">Fiber optic</option>
            <option value="No">No</option>
        </select><br><br>
        
        <label for="onlineSecurity">Online Security:</label>
        <select name="onlineSecurity">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
        </select><br><br>
        
        <label for="onlineBackup">Online Backup:</label>
        <select name="onlineBackup">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
        </select><br><br>
        
        <label for="deviceProtection">Device Protection:</label>
        <select name="deviceProtection">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
        </select><br><br>
        
        <label for="techSupport">Tech Support:</label>
        <select name="techSupport">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
        </select><br><br>
        
        <label for="streamingTV">Streaming TV:</label>
        <select name="streamingTV">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
        </select><br><br>
        
        <label for="streamingMovies">Streaming Movies:</label>
        <select name="streamingMovies">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
        </select><br><br>
        
        <label for="contract">Contract:</label>
        <select name="contract">
            <option value="Month-to-month">Month-to-month</option>
            <option value="One year">One year</option>
            <option value="Two year">Two year</option>
        </select><br><br>
        
        <label for="paperlessBilling">Paperless Billing:</label>
        <select name="paperlessBilling">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
        </select><br><br>
        
        <label for="paymentMethod">Payment Method:</label>
        <select name="paymentMethod">
            <option value="Bank transfer (automatic)">Bank transfer (automatic)</option>
            <option value="Credit card (automatic)">Credit card (automatic)</option>
            <option value="Electronic check">Electronic check</option>
            <option value="Mailed check">Mailed check</option>
        </select><br><br>
        
        <label for="monthlyCharges">Monthly Charges:</label><br>
        <input type="number" step="0.01" name="monthlyCharges"><br><br>
        
        <label for="totalCharges">Total Charges:</label><br>
        <input type="number" step="0.01" name="totalCharges"><br><br>
        
        <input type="submit" value="Predict">
    </form>

    <h2>Prediction Result:</h2>
    {% if churn_probability is defined %}
    <p>Churn Probability: {{ churn_probability }}</p>
    {% endif %}

    {% if error %}
    <p>Error: {{ error }}</p>
    {% endif %}
</body>
</html>
